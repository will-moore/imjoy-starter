<config lang="json">
{
  "name": "OMERO ImageJ.JS",
  "type": "web-worker",
  "tags": [],
  "ui": "",
  "version": "0.1.0",
  "cover": "",
  "description": "Open a rendered image from OMERO.web in ImageJ.JS",
  "icon": "extension",
  "inputs": null,
  "outputs": null,
  "api_version": "0.1.8",
  "env": "",
  "permissions": [],
  "requirements": [],
  "dependencies": []
}
</config>
<script lang="javascript">
class ImJoyPlugin{
    async setup(){
        await api.log("omero_image_ij plugin initialized")
    }
    async openImageJ(){
        const ij = await api.createWindow({src:"https://ij.imjoy.io"});
        // TODO load this image...
        const image = "http://idr.openmicroscopy.org/webgateway/render_image/96765/0/0/";
        ij.viewImage(image);
    }
    async run(ctx){
        await this.openImageJ()
    }
}
api.export(new ImJoyPlugin())
</script>
